(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();function y(){const s=d3.select("#bar-chart").append("div").attr("id","tooltip").style("opacity",1),o=d3.select("#bar-chart").append("svg").attr("width",800+80).attr("height",400+80);let t=[];fetch("https://raw.githubusercontent.com/freeCodeCamp/ProjectReferenceData/master/GDP-data.json").then(e=>e.json()).then(e=>{t=e.data,console.log(t);const n=e.data.map(r=>new Date(r[0])),h=new Date(d3.max(n)),f=new Date(d3.min(n)),l=d3.scaleTime().domain([f,h]).range([0,800]),m=d3.axisBottom().scale(l);o.append("g").call(m).attr("id","x-axis").attr("transform","translate(60, 400)");const c=e.data.map(r=>r[1]),p=d3.max(c),g=d3.scaleLinear().domain([0,p]).range([400,0]),x=d3.axisLeft(g);o.append("g").call(x).attr("id","y-axis").attr("transform","translate(60, 0)");const d=d3.scaleLinear().domain([0,p]).range([0,400]);c.map(r=>d(r)),o.selectAll("rect").data(t).enter().append("rect").attr("data-date",(r,a)=>t[a][0]).attr("data-gdp",(r,a)=>t[a][1]).attr("class","bar").attr("x",function(r,a){return l(n[a])}).attr("y",function(r){return 400-d(r[1])}).attr("width",800/c.length).attr("height",function(r){return d(r[1])}).attr("transform","translate(60, 0)").attr("fill","#55aaaa").on("mouseover",function(r,a){console.log(r),console.log(a),s.transition().duration(200).style("opacity",.9),s.html(`<p>${a[0]}</p><p>$${a[1].toLocaleString("en")}</p>`).attr("data-date",a[0]).style("top","400px").style("left",r.pageX+"px")}).on("mouseout",function(r){s.transition().duration(200).style("opacity",0)})})}document.querySelector("#app").innerHTML=`
  <div class="bg-[#242424] flex h-screen w-screen place-items-center">
    <div class="min-w-[960px] w-[960px] h-[560px] border-4 border-t-slate-200 border-l-slate-200 border-r-[#808080] border-b-[#808080] bg-[#c0c0c0] shadow-[5px_5px_5px_black] mx-auto p-4">
      <div id="title" class="text-4xl mx-auto w-max">United States GDP</div>
      <div id="bar-chart" class="m-0 p-0"></div>
    </div>
  </div>
`;y(document.querySelector("#bar-chart"));
